{% extends 'frontend/base3.html' %}
{% load static %}
{% block content %}

<div class="row">
    <div class="col-sm-12">
        <div class="card mb-4">
            <div class="text-center mb-4">
                <h2 class="fw-bold text-primary">AI Generated Exam</h2>
                <p class="text-muted">Answer the following questions and submit
                    for marking.</p>
            </div>
        </div>
    </div>
</div>

<form method="post" action="{% url 'submit_exam' %}">
    {% csrf_token %}
    {% if list %}
    {% for q in list %}
    <div class="card mb-3 shadow-sm">
        <div class="card-header bg-light fw-bold">
            Question {{ forloop.counter }}: {{ q.question }}
        </div>
        <div class="card-body">
            {% for choice in q.choices %}
            <div class="form-check">
                <input class="form-check-input" type="radio"
                    name="q{{ forloop.parentloop.counter }}"
                    id="q{{ forloop.parentloop.counter }}_{{ forloop.counter }}"
                    value="{{ choice }}">
                <label class="form-check-label"
                    for="q{{ forloop.parentloop.counter }}_{{ forloop.counter }}">
                    {{ choice.text }}
                </label>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endfor %}
    <div class="text-center">
        <button type="submit" class="btn btn-success">Submit Exam</button>
    </div>
    {% else %}
    <p class="text-muted">No questions available at the moment.</p>
    {% endif %}
</form>

{% endblock %}